\documentclass{article}
% \begin{}
% Text Packages
\usepackage[spanish]{babel}
\usepackage[inline]{enumitem}

% Math Packages
\usepackage{mathtools}
\usepackage{amssymb, amsthm}
\usepackage{physics}
\usepackage{bbm}

\newcommand{\placeholderParameter}{-}
\newcommand{\characteristic}{\mathbbm{1}}
\newcommand{\naturalNumbers}{\mathbb{N}}
\newcommand{\realNumbers}{\mathbb{R}}
\newcommand{\integrableFunctions}{L^1(\realNumbers^n)}
\newtheorem{definition}{Definición}
\newtheorem{exercise}{Ejercicio}
\newtheorem{myLemma}{Lema propio}

\DeclareMathOperator{\lebesgueMeasure}{\lambda}

\theoremstyle{remark}
\newtheorem{remark}{Observación}

\title{Práctica 0 \\ Preliminares de Análisis}
\author{Pablo Brianese}
% \end{}
\begin{document}
\maketitle
  \begin{definition}
    Dadas \(f, g : \realNumbers^n \rightarrow \realNumbers\) ambas en \(L(\realNumbers^n)\), definimos la convolución de la siguiente manera
    \begin{align}
      (f * g) (x)
      =
      \int_{\realNumbers^n} f(y) g(x - y) \dd y
    \end{align}
  \end{definition}

  \begin{exercise}
    Probar que si \(f, g, h \in L^1(\realNumbers^n)\) y \(\lambda \in \realNumbers\), entonces valen:
    \begin{enumerate}
      \item 
        \label{exercise:convolutionConmutativity}
        \(f * g = g * f\)
      \item
        \label{exercise:convolutionDistributiveLaw}
        \(f * (g + h) = f * g + f * h\)
        a la vez que
        \((g + h) * f = g * f + h * f\)
      \item 
        \label{exercise:convolutionAsociativity}
        \(f * (g * h) = (f * g) * h\)
      \item 
        \label{exercise:convolutionScalarAsociativity}
        \(\lambda (f * g) 
        =
        (\lambda f) * g
        = 
        f * (\lambda g)\)
      \item
        \label{exercise:convolutionL1Bound}
        \(\norm{f * g}_1 
        \leq 
        \norm{f}_1 \norm{g}_1\)
    \end{enumerate}
  \end{exercise}

  \begin{remark}
    Las propiedades anteriores se pueden resumir diciendo que \((L^1(\realNumbers^n), \norm{\placeholderParameter}_1)\) es un álgebra de Banach conmutativa con la convolución como producto.
  \end{remark}

  \begin{myLemma}
    \label{myLemma:integralDomainReflection}
    \(
      \int_{\realNumbers^n} h(y) \dd y
      =
      \int_{\realNumbers^n} h(x - y) \dd y
    \)
    para toda \(h \in \integrableFunctions\).
  \end{myLemma}
  \begin{proof}
    Sea \(H\) la clase formada por las funciones \(h \in \integrableFunctions\) que verifican el enunciado.
    Por la linealidad de la integral, la combinación \(\alpha h_1 + \beta h_2\) pertenece a \(H\) siempre que \(h_1, h_2 \in H\) y \(\alpha, \beta \in \realNumbers\).
    Por el teorema de convergencia monótona, si \(\{h_m\}_m \subseteq H\) es una sucesión nodecreciente de funciones nonegativas que converge a una función integrable \(g\), entonces \(g \in H\).
    Para concluir, debemos probar que las funciones características integrables están en \(H\).
    Supongamos que \(h \in L^1(\realNumbers^n)\) es la función característica \(h = \characteristic_A\) de un conjunto medible \(A \subseteq \realNumbers^n\) de medida finita.
    Observemos que \(\characteristic_A (x - y) = \characteristic_{x - A} (y)\) para todo par \(x, y \in \realNumbers^n\).
    A partir de esta relación pordemos calcular como, para todo \(x \in \realNumbers^n\)
    \begin{align}
      &\int_{\realNumbers^n} \characteristic_A(y) \dd y
        =      
        \lebesgueMeasure(A)
      &&\int_{\realNumbers^n} \characteristic_A(x - y) \dd y
      =
      \int_{\realNumbers^n} \characteristic_{x - A}(y) \dd y
      =
      \lebesgueMeasure(x - A)
    \end{align}
    Ahora la ecuación que necesitamos se sigue de la invarianza por traslaciones (\(+ x\)) y reflexiones (\(-\)) de la medida de Lebesgue, una propiedad que es facil de ver en el caso de los rectángulos que generan su \(\sigma\)--álgebra.
    Concretamente, sucede
    \(
      \lebesgueMeasure(A)
      =
      \lebesgueMeasure(x - A)
    \)
    para todo \(x \in \realNumbers^n\).
  \end{proof}

  \begin{proof}
    \ref{exercise:convolutionConmutativity}
    Para todo \(x \in \realNumbers^n\), como consecuencia del lema \ref{myLemma:integralDomainReflection}
    \begin{align}
      f * g (x)
      &=
      \int_{\realNumbers^n} f(y) g(x - y) \dd y
      \\
      &=
      \int_{\realNumbers^n} f(x - y) g(x - (x - y)) \dd y
      \\
      &=
      \int_{\realNumbers^n} g(y) f(x - y) \dd y
      \\
      &=
      g * f (x)
    \end{align}
  \end{proof}

  \begin{proof}
    \ref{exercise:convolutionDistributiveLaw}
    Por la ley distributiva de los números reales y la linealidad de la integral, para todo \(x \in \realNumbers^n\)
    \begin{align}
      f * (g + h) (x)
      &=
      \int_{\realNumbers^n} f(y) (g + h) (x - y) \dd y
      \\
      &=
      \int_{\realNumbers^n} f(y) g(x - y) + f(y) h(x - y)  \dd y
      \\
      &=
      \int_{\realNumbers^n} f(y) g(x - y) \dd y + \int_{\realNumbers^n} f(y) h(x - y)  \dd y
      \\
      &=
      f * g (x) + f * h (x)
    \end{align}
    La demostración del enunciado \((g + h) * f = g * f + h * f\) es similar.
  \end{proof} 

  \begin{proof}
    \ref{exercise:convolutionScalarAsociativity}
    Sea \(x \in \realNumbers^n\) arbitrario.
    Por la linealidad de la integral
    \begin{align}
      (\lambda (f * g)) (x)
      =
      \lambda \int_{\realNumbers^n} f(y) g(x - y) \dd y
      =
      \int_{\realNumbers^n} \lambda (f(y) g(x - y)) \dd y
    \end{align}
    Pero por asociatividad del producto entre números reales
    \begin{align}
      (\lambda f) * g (x)
      &=
      \int_{\realNumbers^n} (\lambda f(x)) g(x - y) \dd y
      =
      \int_{\realNumbers^n} \lambda (f(y) g(x - y)) \dd y
      \\
      f * (\lambda g) (x)
      &=
      \int_{\realNumbers^n} f(x) (\lambda g(x - y)) \dd y
      =
      \int_{\realNumbers^n} \lambda (f(y) g(x - y)) \dd y      
    \end{align}
    Comparando los extremos derechos de las desigualdades se obtiene \(\lambda (f * g) = (\lambda f) * g = f * (\lambda g)\).
  \end{proof}

  \begin{myLemma}[Convergencia monótona para convoluciones]
    \label{myLemma:convolutionMonotoneConvergence}
    Si \(f \in \integrableFunctions\), y \(\{g_m\}_m\) es una sucesión nodecreciente de funciones nonegativas que convergen puntualmente a una \(g \in \integrableFunctions\), entonces \(\lim_{m \rightarrow \infty} f * g_m =f * g\) y de forma similar \(\lim_{m \rightarrow \infty} g_m * f = g * f\).
  \end{myLemma}

  \begin{proof}
    Sea \(x \in \realNumbers^n\) arbitrario.
    Si \(f^+\) y \(f^-\) son las partes nonegativa y negativa de \(f\), y \(f^{\pm}\) es cualquiera de ellas entonces por el teorema de convergencia dominada
    \begin{align}
      \lim_{m \rightarrow \infty} f^{\pm} * g_m (x)
      &=
      \lim_{m \rightarrow \infty} \int_{\realNumbers^n} f^{\pm}(y)  g_m (x - y) \dd y
      \\
      &=
      \int_{\realNumbers^n} \lim_{m \rightarrow \infty} f^{\pm}(y)  g_m (x - y) \dd y
      \\
      &=
      \int_{\realNumbers^n} f^{\pm}(y) g(x - y) \dd y
      \\
      &=
      f^{\pm} * g (x)
    \end{align}
    En consecuencia el límite de las convoluciones es la convolución con el límite
    \begin{align}
      \lim_{m \rightarrow \infty} 
        f * g_m (x)
      &=
      \lim_{m \rightarrow \infty}
        f^+ * g_m (x)
      - \lim_{m \rightarrow \infty}
        f^- * g_m (x)
      \\
      &=
      f^+ * g (x) - f^- * g (x)
      \\
      &=
      f * g (x)
    \end{align}
    La demostración del enunciado
    \(
      \lim_{m \rightarrow \infty} 
        g_m * f (x)
      =
      g * f (x)
    \)
    es idéntica a la que recién presentamos.
  \end{proof}

  \begin{proof}
    \ref{exercise:convolutionL1Bound}
    Sean \(f, g \in \integrableFunctions\).
    Una primera desigualdad es simple
    \begin{align}
      \norm{f * g}_1
      =
      \int_{\realNumbers^n} \abs{\int_{\realNumbers^n} f(y) g(x - y) \dd y} \dd x
      \leq
      \int_{\realNumbers^n} \int_{\realNumbers^n} \abs{f(y) g(x - y)} \dd y \dd x
    \end{align}
    El teorema de Tonelli nos permite intercambiar el orden de integración para obtener
    \begin{align}
      \int_{\realNumbers^n} \int_{\realNumbers^n} \abs{f(y) g(x - y)} \dd y \dd x
      &=
      \int_{\realNumbers^n} \abs{f(y)} \int_{\realNumbers^n} \abs{g(x - y)} \dd x \dd y
    \end{align}
    El lema propio \ref{myLemma:integralDomainReflection} simplifica esta integral mediante \(\norm{g}_1 = \int_{\realNumbers^n} \abs{g(x - y)} \dd x\)
    \begin{align}
      \int_{\realNumbers^n} \abs{f(y)} \int_{\realNumbers^n} \abs{g(x - y)} \dd x \dd y
      =
      \int_{\realNumbers^n} \abs{f(y)} \norm{g}_1 \dd y
      =
      \norm{f}_1 \norm{g}_1
    \end{align}
    
  \end{proof}

  % \begin{proof}
  %   \ref{exercise:convolutionConmutativity}
  %   Haremos un argumento por clases crecientes doble.
  %   Principalmente, consideraremos la clase \(F\) formada por las funciones \(f \in L^1(\realNumbers^n)\) tales que \(f * g = g * f\) para toda \(g \in L^1(\realNumbers^n)\).

  %   Si \(f \in L^1(\realNumbers^n)\), definimos el conjunto \(G_f\) formado por las funciones \(g \in L^1(\realNumbers^n)\) tales que \(f * g = g * f\). Este objeto satisface
  %   \begin{enumerate*}
  %     \item \(g_1 + g_2 \in G\) si \(g_1, g_2 \in G\);
  %     \item \(\alpha g \in G\) si \(g \in G\) y \(\alpha \in \realNumbers\);
  %     \item \(\lim_{m \rightarrow \infty} g_m \in G\) para toda sucesión \(\{g_m\}_m \subseteq G\) puntualmente convergente tal que existe \(h \in \integrableFunctions\) con \(\abs{g_m} \leq h\) \((\forall m \in \naturalNumbers)\).
  %   \end{enumerate*}

  %   Supongamos que \(f \in L^1(\realNumbers^n)\) es la función característica \(f = \characteristic_A\) de un conjunto medible \(A \subseteq \realNumbers^n\).
  %   Accesoriamente, consideramos la clase \(G\) formada por las funciones \(g \in L^1(\realNumbers^n)\) tales que \(\characteristic_A * g = g * \characteristic_A\).
  %   Supongamos que también \(g\) es la función característica de un conjunto medible \(B \subseteq \realNumbers^n\).
  %   Observemos que \(\characteristic_C (x - y) = \characteristic_{x - C} (y)\) para todo par \(x, y \in \realNumbers^n\) y todo subconjunto \(C \subseteq \realNumbers^n\).
  %   A partir de esta relación pordemos calcular como, para todo \(x \in \realNumbers^n\)
  %   \begin{align}
  %     f * g (x)
  %     &=
  %     \int_{\realNumbers^n} \characteristic_A(y) \characteristic_B(x - y) \dd y
  %     =
  %     \int_{\realNumbers^n} \characteristic_A(y) \characteristic_{x - B} (y) \dd y
  %     \\
  %     &=
  %     \int_{\realNumbers^n} \characteristic_{A \cap (x - B)}(y) \dd y
  %     =
  %     \lebesgueMeasure(A \cap (x - B))
  %     \\
  %     g * f(x)
  %     &=
  %     \int_{\realNumbers^n} \characteristic_A(x - y) \characteristic_B(y) \dd y
  %     =
  %     \int_{\realNumbers^n} \characteristic_A(x - y) \characteristic_B(x - (x - y)) \dd y
  %     \\
  %     &=
  %     \int_{\realNumbers^n} \characteristic_A(x - y) \characteristic_{x - B} (x - y) \dd y
  %     =
  %     \int_{\realNumbers^n} \characteristic_{A \cap (x - B)}(x - y) \dd y
  %     \\
  %     &=
  %     \int_{\realNumbers^n} \characteristic_{x - A \cap (x - B)}(y) \dd y
  %     =
  %     \lebesgueMeasure(x - A \cap (x - B))
  %   \end{align}
  %   Ahora la ecuación que necesitamos se sigue de la invarianza por traslaciones (\(+ x\)) y reflexiones (\(-\)) de la medida de Lebesgue, algo que es facil de ver en el caso de los rectángulos que generan su \(\sigma\)--álgebra.
  %   Concretamente, sucede
  %   \(
  %     \lebesgueMeasure(A \cap (x - B))
  %     =
  %     \lebesgueMeasure(x - A \cap (x - B))
  %   \)
  %   para todo \(x \in \realNumbers^n\).
  %   Esta nos dice \(f * g = g * f\).
  %   Dado que \(g\) era arbitraria, toda función característica \(g \in L^1(\realNumbers^n)\) resulta ser un elemento de \(G\).

  %   Toda función característica de un conjunto de medida finita pertenece a la clase \(F\).

  %   Ahora bien, si \(\alpha, \beta \in \realNumbers\) son escalares y \(g_1, g_2 : \realNumbers\)
     
  % \end{proof}
\end{document}